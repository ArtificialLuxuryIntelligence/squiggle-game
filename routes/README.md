moving auth to passport js from jwt which was only implemented on the API routes rather than the whole application
